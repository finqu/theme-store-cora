<div class="product-attribute-container form-group">

    {% if attribute.name %}<label>{{ attribute.name }}</label>{% endif %}

    {% for option in attribute.options %}

        <div class="form-group form-check">

            {% if option.price > 0 and showAttributePrice and showAttributeTotalPrice and option.in_stock == true %}

                {% assign checkboxArgument1 = true %}

            {% endif %}

            {% if option.price > 0 and showAttributePrice and showAttributeTotalPrice and product.ignore_storage == true %}

                {% assign checkboxArgument2 = true %}

            {% endif %}

            <input class="product-attribute form-check-input{% if checkboxArgument1 or checkboxArgument2 %} has-price{% endif %}"
               type="checkbox"
               data-attribute="{{ attribute.id }}"
               id="product-option-{{ option.id }}"
               name="{{ attribute.id }}[]"
               value="{{ option.id }}"
               {% if option.in_stock == false and product.ignore_storage == false %} disabled{% else %} data-is-usable{% endif %}>

            <label for="product-option-{{ option.id }}" class="form-check-label">

                {{ option.name }}

                {% if option.price > 0 and showAttributePrice and showAttributeTotalPrice == blank %}

                    (+{{ option.price | in_currency }})

                {% endif %}

            </label>

        </div>

    {% endfor %}

</div>

{% for option in attribute.options %}

    {% if option.subattributes %}

        {% render 'product-attributes/subattribute', option: option %}

    {% endif %}

{% endfor %}