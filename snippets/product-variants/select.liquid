<div class="product-variant-container form-group">

   {% if variant.name %}<label for="product-variant-{{ variant.id }}">{{ variant.name }}</label>{% endif %}

    <select class="product-variant form-control"
        data-variant="{{ variant.id }}"
        id="product-variant-{{ variant.id }}"
        name="{{ variant.id }}"
        data-is-usable
        disabled>

        <option disabled selected value>{{ 'general.choose' | t }}</option>

        {% for option in variant.options %}

            {% if option.price > 0 and showVariantPrice and showVariantTotalPrice and option.in_stock == true %}

                {% assign selectArgument1 = true %}

            {% endif %}

            {% if option.price > 0 and showVariantPrice and showVariantTotalPrice and product.ignore_storage == true %}

                {% assign selectArgument2 = true %}

            {% endif %}

            <option
                {% if selectArgument1 or selectArgument2 %}class="has-price" {% endif %}
                value="{{ option.id }}"{% if option.in_stock == false and product.ignore_storage == false %} disabled{% endif %}>

                {{ option.name }}

                {% if showVariantStock and product.ignore_storage == false and product.only_preview != true and option.in_stock == true and option.subvariant == false %}

                    ({{ option.stock }} {{ product.unit }})

                {% endif %}

                {% if option.in_stock == false and product.ignore_storage == false %}

                    ({{ 'product.out_of_stock' | t }})

                {% elsif option.price > 0 and showVariantPrice and showVariantTotalPrice == blank %}

                    (+{{ option.price | in_currency }})

                {% endif %}

            </option>

        {% endfor %}

    </select>

</div>

{% for option in variant.options %}

    {% if option.subvariant %}

        {% render 'product-variants/subvariant', option: option %}

    {% endif %}

{% endfor %}