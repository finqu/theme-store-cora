{%- assign defaultBtnLabel = 'system.placeholder_text' | t -%}
{%- assign btnLabel = block.settings.btnLabel | default: defaultBtnLabel -%}

{%- case block.settings.contentAlign -%}
    {% when 'left' %}
        {%- assign contentAlign = 'justify-content-start' -%}
    {% when 'center' %}
        {%- assign contentAlign = 'justify-content-center' -%}
    {% when 'right' %}
        {%- assign contentAlign = 'justify-content-end' -%}
{%- endcase -%}

<div class="d-flex {{ contentAlign }}">

    {% if block.settings.btnStyle == 'btn1' %}

        <a href="{{- block.settings.btnResource.url -}}" class="btn btn-section"{% if block.settings.openInNewWindowStatus %} target="_blank"{% endif %}>
            {{ btnLabel }}
        </a>

    {% elsif block.settings.btnStyle == 'btn2' %}

        <a href="{{- block.settings.btnResource.url -}}" class="btn btn-outline-section"{% if block.settings.openInNewWindowStatus %} target="_blank"{% endif %}>
            {{ btnLabel }}
        </a>

    {% else %}

        <a href="{{- block.settings.btnResource.url -}}" class="btn btn-link text-underline-indicator font-weight-bold"{% if block.settings.openInNewWindowStatus %} target="_blank"{% endif %}>

            <span class="mr-2">
                {{ btnLabel }}
            </span>

            {%- render 'icon', icon: 'regular/arrow-right', class: 'svg-icon-fw' -%}

        </a>

    {% endif %}

</div>

{% schema %}
{
    "name": {
        "en": "Button",
        "fi": "Nappi"
    },
    "tag": "div",
    "class": "block block-button",
    "category": "basic",
    "settings": [
        {
            "id": "btnLabel",
            "type": "text",
            "label": {
                "en": "Button label",
                "fi": "Napin teksti"
            }
        },
        {
            "id": "btnResource",
            "type": "url",
            "label": {
                "en": "Button link",
                "fi": "Napin linkki"
            }
        },
        {
            "id": "btnStyle",
            "type": "radio-pill",
            "label": {
                "en": "Button style",
                "fi": "Napin tyyli"
            },
            "default": "btn1",
            "options": [
                {
                    "value": "btn1",
                    "label": {
                        "en": "Button 1",
                        "fi": "Nappi 1"
                    }
                },
                {
                    "value": "btn2",
                    "label": {
                        "en": "Button 2",
                        "fi": "Nappi 2"
                    }
                },
                {
                    "value": "link",
                    "label": {
                        "en": "Link",
                        "fi": "Linkki"
                    }
                }
            ]
        },
        {
            "id": "openInNewWindowStatus",
            "type": "checkbox",
            "label": {
                "en": "Open link in a new window",
                "fi": "Avaa linkki uudessa ikkunassa"
            },
            "default": false
        },
        {
            "id": "contentAlign",
            "type": "radio-pill",
            "label": {
                "en": "Content alignment",
                "fi": "Sisällön ryhmittyminen"
            },
            "default": "center",
            "options": [
                {
                    "value": "left",
                    "label": "{# icon.alignLeftLight #}"
                },
                {
                    "value": "center",
                    "label": "{# icon.alignCenterLight #}"
                },
                {
                    "value": "right",
                    "label": "{# icon.alignRightLight #}"
                }
            ]
        }
    ]
}
{% endschema %}