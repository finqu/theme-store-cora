{%- assign sectionHeight = 'off' -%}

{%- if section.settings.annoucementStatus and section.settings.annoucementText -%}
    <style>
        #finqu-section-{{ section.id }} .site-annoucement {
            background-color: {{ section.settings.annoucementBgColor }};
            color: {{ section.settings.annoucementTextColor }};
        }
    </style>
{%- endif -%}

{%- capture sectionContent -%}

    {% if section.settings.annoucementStatus and section.settings.annoucementText %}

        <div class="site-annoucement-container">

            <div class="site-annoucement">

                <span class="site-annoucement-text">

                    {{ section.settings.annoucementText }}

                </span>

            </div>

        </div>

    {% endif %}

    <div class="site-header-container">

        <div class="site-header">

            <div class="site-header-top">

                <div class="container">

                    <div class="site-header-top-left">

                        <div class="site-header-item-container d-md-none">

                            <div class="site-header-item">

                                <button type="button" id="site-mobile-navigation-toggle" class="btn btn-text">

                                    {%- render 'icon', icon: 'navigation-menu-gWaHY4', class: 'svg-icon-fw' -%}

                                </button>

                            </div>

                        </div>

                        <div class="site-header-item-container">

                            <div class="site-header-item site-header-item-search">

                                <button type="button" id="site-header-search-toggle" class="btn btn-text">

                                    {%- render 'icon', icon: 'search-jUAwYE', class: 'svg-icon-fw' -%}

                                </button>

                                <div class="site-header-search-container">

                                    <div class="site-header-search">

                                        <div class="site-header-search-form-container">

                                            {% form 'search', id: site-header-search-form %}

                                                <div class="site-header-search-form-icon">

                                                    {%- render 'icon', icon: 'search-jUAwYE', class: 'svg-icon-fw' -%}

                                                </div>

                                                <div class="site-header-search-form-input">

                                                    <input class="form-control me-2" type="search" placeholder="{{ 'general.search_products' | t }}" name="q" value="{{ request.get.q }}">

                                                </div>

                                            {% endform %}

                                        </div>

                                        <div class="site-header-search-results-container">

                                            <div class="site-header-search-results"></div>

                                        </div>

                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>

                    <div class="site-header-top-logo">

                        <a href="/">

                            {%- assign imgSrc = section.settings.logoImgSrc -%}
                            {%- assign imgSize = 120,30 -%}

                            {% if imgSrc %}

                                <picture>
                                    <img
                                        alt="{{ item.name }}"
                                        data-src="{{ imgSrc | thumb: imgSize }}"
                                        data-srcset="{{ imgSrc | thumb: imgSize }} 1x, {{ imgSrc | thumb: imgSize | thumb:'@2x' }} 2x"
                                        class="lazy d-block mx-auto img-fluid aspect-ratio-item">
                                </picture>

                            {% else %}

                                <span class="site-header-top-logo-text">
                                    {{ store.name }}
                                </span>

                            {% endif %}

                        </a>

                    </div>

                    <div class="site-header-top-right">

                        {% if store.customer_accounts_enabled %}

                            {% if store.session.logged_in %}

                                <div class="site-header-item-container site-header-item-account-container">

                                    <div class="site-header-item site-header-item-account">

                                        <a href="{{ routes.account_url }}" class="btn btn-text">

                                            {%- render 'icon', icon: 'single-neutral-3ziDl0', class: 'svg-icon-fw' -%}

                                        </a>

                                    </div>

                                </div>

                                <div class="site-header-item-container">

                                    <div class="site-header-item site-header-item-wishlist">

                                        <a href="{{ routes.account_wishlist_url }}" class="btn btn-text">

                                            <span class="site-header-item-counter{% if store.wishlist.products.size > 0 %} has-items{% endif %}">

                                                <span class="site-header-item-counter-text" data-wislist-item-count>
                                                    {{ store.wishlist.products.size }}
                                                </span>

                                            </span>

                                            {%- render 'icon', icon: 'love-it-08UZOs', class: 'svg-icon-fw' -%}

                                        </a>

                                    </div>

                                </div>

                            {% else %}

                                <div class="site-header-item-container site-header-item-account-container">

                                    <div class="site-header-item site-header-item-account">

                                        <a href="{{ routes.account_login_url }}" class="btn btn-text">

                                            {%- render 'icon', icon: 'single-neutral-3ziDl0', class: 'svg-icon-fw' -%}

                                        </a>

                                    </div>

                                </div>

                            {% endif %}

                        {% endif %}

                        <div class="site-header-item-container site-header-item-cart-container">

                            <div class="site-header-item site-header-item-cart">

                                <a href="{{ routes.cart_url }}" class="btn btn-text">

                                    <span class="site-header-item-counter{% if cart.items.size > 0 %} has-items{% endif %}">

                                        <span class="site-header-item-counter-text" data-cart-item-count>
                                            {{ cart.item_count }}
                                        </span>

                                    </span>

                                    {%- render 'icon', icon: 'shopping-bag-tag-1-7QUX0n', class: 'svg-icon-fw' -%}

                                </a>

                            </div>

                        </div>

                        <div class="site-header-cart-container">

                            <div class="site-header-cart cart-mini" data-cart-mini-container>

                                <div class="cart-header">

                                    {%- render 'icon', icon: 'loading-half-7QUSw4' class: 'svg-spin svg-icon-fill svg-icon-4x' -%}

                                </div>

                            </div>

                        </div>

                    </div>

                </div>

            </div>

            <nav class="site-header-bottom">

                <div class="site-header-menu-container">

                    <div class="container">

                        <ul class="site-header-menu">

                            {% for item in section.settings.menu.links %}

                                {%- if item.object -%}
                                    {%- assign itemTitle = item.object.title -%}
                                    {%- assign itemUrl = item.object | link -%}
                                {%- else -%}
                                    {%- assign itemTitle = item.title -%}
                                    {%- assign itemUrl = item.url -%}
                                {% endif %}

                                <li class="site-header-menu-item{% if item.active %} site-header-menu-item-active{% endif %}"{% if item.links %} data-menu-child-id="{{ forloop.index }}"{% endif %}>

                                    {%- if itemUrl == blank -%}

                                        <a href="{{ itemUrl }}" class="site-header-menu-item-text text-underline-indicator">
                                            {{ itemTitle }}
                                        </a>

                                    {%- else -%}

                                        <span class="site-header-menu-item-text text-underline-indicator">
                                            {{ itemTitle }}
                                        </span>

                                    {%- endif -%}

                                </li>

                            {% endfor %}

                        </ul>

                    </div>

                </div>

                <div class="site-header-submenus-container">

                    {% for item in section.settings.menu.links %}

                        {%- if item.links -%}

                            <div class="site-header-submenu" data-submenu-id="{{ forloop.index }}">

                                <div class="container">

                                    <div class="row">

                                        {% for item in item.links %}

                                            {%- if item.object -%}
                                                {%- assign itemTitle = item.object.title -%}
                                                {%- assign itemUrl = item.object | link -%}
                                            {%- else -%}
                                                {%- assign itemTitle = item.title -%}
                                                {%- assign itemUrl = item.url -%}
                                            {% endif %}

                                            <div class="site-header-submenu-column col">

                                                <div class="site-header-submenu-column-title text-muted">

                                                    {%- if itemUrl == blank -%}

                                                        <a href="{{ itemUrl }}" class="site-header-submenu-column-title-text">
                                                            {{ itemTitle }}
                                                        </a>

                                                    {%- else -%}

                                                        <span class="site-header-submenu-column-title-text">
                                                            {{ itemTitle }}
                                                        </span>

                                                    {%- endif -%}

                                                </div>

                                                <ul class="site-header-submenu-column-menu">

                                                    {% for item in item.links %}

                                                        {%- if item.object -%}
                                                            {%- assign itemTitle = item.object.title -%}
                                                            {%- assign itemUrl = item.object | link -%}
                                                        {%- else -%}
                                                            {%- assign itemTitle = item.title -%}
                                                            {%- assign itemUrl = item.url -%}
                                                        {% endif %}

                                                        <li class="site-header-submenu-column-menu-item{% if item.active %} site-header-submenu-column-menu-item-active{% endif %}">

                                                            {%- if itemUrl == blank -%}

                                                                <a href="{{ itemUrl }}" class="site-header-submenu-column-menu-item-text text-underline-indicator">
                                                                    {{ itemTitle }}
                                                                </a>

                                                            {%- else -%}

                                                                <span class="site-header-submenu-column-menu-item-text text-underline-indicator">
                                                                    {{ itemTitle }}
                                                                </span>

                                                            {%- endif -%}

                                                        </li>

                                                    {% endfor %}

                                                </ul>

                                            </div>

                                        {% endfor %}

                                    </div>

                                </div>

                            </div>

                        {% endif %}

                    {% endfor %}

                </div>

            </nav>

        </div>

    </div>

    <div class="site-mobile-navigation-container">

        <div id="site-mobile-navigation-overlay"></div>

        <div class="site-mobile-navigation-inner">

            {% if store.customer_accounts_enabled %}

                <div class="site-mobile-navigation-account">

                    {% if store.session.logged_in %}

                        <a href="{{ routes.account_url }}">

                            <div class="site-mobile-navigation-account-inner">

                                <span class="site-mobile-navigation-account-text">
                                    {{ 'account.title' | t }}
                                </span>

                                {%- render 'icon', icon: 'arrow-right-Nc34uf', class: 'svg-icon-fw' -%}

                            </div>

                        </a>

                    {% else %}

                        <a href="{{ routes.account_login_url }}">

                            <div class="site-mobile-navigation-account-inner">

                                <span class="site-mobile-navigation-account-text">
                                    {{ 'login.title' | t }}
                                </span>

                                {%- render 'icon', icon: 'arrow-right-Nc34uf', class: 'svg-icon-fw' -%}

                            </div>

                        </a>

                    {% endif %}

                </div>

            {% endif %}

            <div class="site-mobile-navigation-menu">

            </div>

        </div>

    </div>

{%- endcapture -%}

{% render 'section', section: section, sectionContent: sectionContent, sectionHeight: sectionHeight, sectionContentContainer: 'none' %}

{% schema %}
{
    "name": "Header",
    "tag": "section",
    "is_creatable": false,
    "is_removable": false,
    "class": "section section-site-header",
    "settings": {
        "list_type": "tabs",
        "groups": [
            {
                "title": "General",
                "settings": [
                    {
                        "id": "menu",
                        "type": "menu",
                        "label": {
                            "en": "Menu",
                            "fi": "Navigaatio"
                        },
                        "default": "footer-menu"
                    },
                    {
                        "id": "logoImgSrc",
                        "type": "image-picker",
                        "label": {
                            "en": "Logo",
                            "fi": "Logo"
                        }
                    },
                    {
                        "type": "spacer"
                    },
                    {
                        "type": "title",
                        "label": {
                            "en": "Annoucement",
                            "fi": "Ilmoitus"
                        }
                    },
                    {
                        "id": "annoucementStatus",
                        "type": "checkbox",
                        "label": {
                            "en": "Show",
                            "fi": "Näytä"
                        },
                        "default": false
                    },
                    {
                        "id": "annoucementBgColor",
                        "type": "color",
                        "label": {
                            "en": "Background color",
                            "fi": "Taustanväri"
                        },
                        "default": "#000000"
                    },
                    {
                        "id": "annoucementTextColor",
                        "type": "color",
                        "label": {
                            "en": "Text color",
                            "fi": "Tekstin väri"
                        },
                        "default": "#ffffff"
                    },
                    {
                        "id": "annoucementText",
                        "type": "text",
                        "label": {
                            "en": "Text",
                            "fi": "Teksti"
                        }
                    }
                ]
            },
            {
                "title": "Section",
                "settings": [
                    {
                        "type": "title",
                        "label": {
                            "en": "Colors",
                            "fi": "Värit"
                        }
                    },
                    {
                        "id": "sectionStyle",
                        "styles_id": "styles",
                        "type": "style-picker",
                        "default": "general"
                    }
                ]
            }
        ]
    }
}
{% endschema %}